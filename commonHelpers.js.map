{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.getElementById(\"search-form\");\nconst gallery = document.getElementById(\"gallery\");\nconst loader = document.querySelector(\".loader\");\nconst input = document.querySelector(\"input\");\n\n\nlet param = {\n    key: '41611765-95d63315582311c92a96eb89d',\n    q: 'cat',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n};\nfunction searchImg(params) {\n    loader.style.display = 'block';\n    gallery.style.display = 'none';\n    fetch(`https://pixabay.com/api/?${params}`)\n      .then(response => {\n        loader.style.display = 'none';\n        gallery.style.display = 'flex';\n        if (!response.ok) {\n          throw new Error(error.status);\n        }\n        return response.json();\n      })\n      .then(({ hits }) => {\n        if (hits.length > 0) {\n          const renderImg = hits.reduce((html, hit) => {\n            return (\n              html +\n              `<li class=\"gallery-item\">\n          <a href=${hit.largeImageURL}> \n            <img class=\"gallery-img\" src =${hit.webformatURL} alt=${hit.tags}/>\n          </a>\n          <div class=\"gallery-text-box\">\n            <p>likes: <span class=\"text-value\">${hit.likes}</span></p>\n            <p>views: <span class=\"text-value\">${hit.views}</span></p>\n            <p>comments: <span class=\"text-value\">${hit.comments}</span></p>\n            <p>downloads: <span class=\"text-value\">${hit.downloads}</span></p>\n        </div>\n        </li>`\n            );\n          }, '');\n          gallery.innerHTML = renderImg;\n  \n          let lightbox = new SimpleLightbox('.gallery a', {\n            nav: true,\n            captionDelay: 250,\n            captionsData: 'alt',\n            close: true,\n            enableKeyboard: true,\n            docClose: true,\n          });\n          lightbox.refresh();\n        } else {\n          gallery.style.display = 'none';\n          iziToast.error({\n            position: 'topRight',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  \n  form.addEventListener('click', event => {\n    event.preventDefault();\n  \n    if (event.target.type === 'submit') {\n        param.q = input.value;\n      const searchParams = new URLSearchParams(param);\n      searchImg(searchParams);\n    }\n    form.reset();\n  });\n\n\n\n\n\n    \n   "],"names":["form","gallery","loader","input","param","searchImg","params","response","hits","renderImg","html","hit","SimpleLightbox","iziToast","error","event","searchParams"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,OAAO,EAG5C,IAAIC,EAAQ,CACR,IAAK,qCACL,EAAG,MACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACA,SAASC,EAAUC,EAAQ,CACvBJ,EAAO,MAAM,QAAU,QACvBD,EAAQ,MAAM,QAAU,OACxB,MAAM,4BAA4BK,GAAQ,EACvC,KAAKC,GAAY,CAGhB,GAFAL,EAAO,MAAM,QAAU,OACvBD,EAAQ,MAAM,QAAU,OACpB,CAACM,EAAS,GACZ,MAAM,IAAI,MAAM,MAAM,MAAM,EAE9B,OAAOA,EAAS,MACxB,CAAO,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClB,GAAIA,EAAK,OAAS,EAAG,CACnB,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAEjCD,EACA;AAAA,oBACMC,EAAI;AAAA,4CACoBA,EAAI,oBAAoBA,EAAI;AAAA;AAAA;AAAA,iDAGvBA,EAAI;AAAA,iDACJA,EAAI;AAAA,oDACDA,EAAI;AAAA,qDACHA,EAAI;AAAA;AAAA,eAI5C,EAAE,EACLV,EAAQ,UAAYQ,EAEL,IAAIG,EAAe,aAAc,CAC9C,IAAK,GACL,aAAc,IACd,aAAc,MACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACtB,CAAW,EACQ,QAAO,CAC1B,MACUX,EAAQ,MAAM,QAAU,OACxBY,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACd,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,CACJ,CAEDd,EAAK,iBAAiB,QAASe,GAAS,CAGtC,GAFAA,EAAM,eAAc,EAEhBA,EAAM,OAAO,OAAS,SAAU,CAChCX,EAAM,EAAID,EAAM,MAClB,MAAMa,EAAe,IAAI,gBAAgBZ,CAAK,EAC9CC,EAAUW,CAAY,CACvB,CACDhB,EAAK,MAAK,CACd,CAAG"}